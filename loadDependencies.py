import http.client
import mimetypes
conn = http.client.HTTPConnection("localhost", 8080)
payload = "[\r\n  {\r\n    \"revision\": \"72062ab7604c08da96d84ffe2699fc37\",\r\n    \"reference\": \"eiger/0.1@ypsomed/development\",\r\n    \"is_ref\": true,\r\n    \"display_name\": \"eiger/0.1@ypsomed/development\",\r\n    \"id\": \"d76a0fd3d25e785af90f3c3eb76a41fc62f2b3e9\",\r\n    \"build_id\": null,\r\n    \"remote\": {\r\n      \"name\": \"ypsomed-conan-repo\",\r\n      \"url\": \"http://172.29.70.66/artifactory/api/conan/conan\"\r\n    },\r\n    \"url\": \"Basic-YpsomedFsm\",\r\n    \"license\": [\r\n      \"closed\"\r\n    ],\r\n    \"description\": \"This is common c library\",\r\n    \"recipe\": \"Cache\",\r\n    \"binary\": \"Missing\",\r\n    \"binary_remote\": \"ypsomed-conan-repo\",\r\n    \"creation_date\": \"2020-10-05 09:29:19\",\r\n    \"required_by\": [\r\n      \"conanfile.py (finitestatemachine/0.2)\"\r\n    ],\r\n    \"requires\": [\r\n      \"hal/0.1@ypsomed/development\"\r\n    ]\r\n  },\r\n  {\r\n    \"revision\": \"fe08a75472feacc4189f012ce7a21804\",\r\n    \"reference\": \"gtest/1.10.0\",\r\n    \"is_ref\": true,\r\n    \"display_name\": \"gtest/1.10.0\",\r\n    \"id\": \"519d3854199801e36d51cb5a04c42f93b4b2bce8\",\r\n    \"build_id\": null,\r\n    \"remote\": {\r\n      \"name\": \"ypsomed-conan-repo\",\r\n      \"url\": \"http://172.29.70.66/artifactory/api/conan/conan\"\r\n    },\r\n    \"url\": \"https://github.com/conan-io/conan-center-index\",\r\n    \"homepage\": \"https://github.com/google/googletest\",\r\n    \"license\": [\r\n      \"BSD-3-Clause\"\r\n    ],\r\n    \"description\": \"Google's C++ test framework\",\r\n    \"topics\": [\r\n      \"conan\",\r\n      \"gtest\",\r\n      \"testing\",\r\n      \"google-testing\",\r\n      \"unit-test\"\r\n    ],\r\n    \"recipe\": \"Cache\",\r\n    \"binary\": \"Missing\",\r\n    \"binary_remote\": \"ypsomed-conan-repo\",\r\n    \"creation_date\": \"2020-09-07 13:13:23\",\r\n    \"required_by\": [\r\n      \"conanfile.py (finitestatemachine/0.2)\",\r\n      \"hallinux/0.1@ypsomed/development\"\r\n    ]\r\n  },\r\n  {\r\n    \"revision\": \"937d1c9eeb5d838091c4b8e16a5205ef\",\r\n    \"reference\": \"hal/0.1@ypsomed/development\",\r\n    \"is_ref\": true,\r\n    \"display_name\": \"hal/0.1@ypsomed/development\",\r\n    \"id\": \"5ab84d6acfe1f23c4fae0ab88f26e3a396351ac9\",\r\n    \"build_id\": null,\r\n    \"remote\": {\r\n      \"name\": \"ypsomed-conan-repo\",\r\n      \"url\": \"http://172.29.70.66/artifactory/api/conan/conan\"\r\n    },\r\n    \"url\": \"TODO\",\r\n    \"license\": [\r\n      \"closed\"\r\n    ],\r\n    \"description\": \"This is the hal api of ypsomed to change easily platforms\",\r\n    \"recipe\": \"Cache\",\r\n    \"binary\": \"Download\",\r\n    \"binary_remote\": \"ypsomed-conan-repo\",\r\n    \"creation_date\": \"2020-10-02 11:36:13\",\r\n    \"required_by\": [\r\n      \"eiger/0.1@ypsomed/development\",\r\n      \"conanfile.py (finitestatemachine/0.2)\",\r\n      \"hallinux/0.1@ypsomed/development\"\r\n    ]\r\n  },\r\n  {\r\n    \"revision\": \"d7de931881c4e6a7159dc352a80e2f30\",\r\n    \"reference\": \"hallinux/0.1@ypsomed/development\",\r\n    \"is_ref\": true,\r\n    \"display_name\": \"hallinux/0.1@ypsomed/development\",\r\n    \"id\": \"b7031f2989297f9456ff50d1795bd631c28ceb55\",\r\n    \"build_id\": null,\r\n    \"remote\": {\r\n      \"name\": \"ypsomed-conan-repo\",\r\n      \"url\": \"http://172.29.70.66/artifactory/api/conan/conan\"\r\n    },\r\n    \"url\": \"Basic-YpsomedFsm\",\r\n    \"license\": [\r\n      \"closed\"\r\n    ],\r\n    \"description\": \"This is Hal Linux implementation\",\r\n    \"recipe\": \"Cache\",\r\n    \"binary\": \"Missing\",\r\n    \"binary_remote\": \"ypsomed-conan-repo\",\r\n    \"creation_date\": \"2020-10-02 11:35:33\",\r\n    \"required_by\": [\r\n      \"conanfile.py (finitestatemachine/0.2)\"\r\n    ],\r\n    \"requires\": [\r\n      \"hal/0.1@ypsomed/development\",\r\n      \"gtest/1.10.0\"\r\n    ]\r\n  },\r\n  {\r\n    \"reference\": \"conanfile.py (finitestatemachine/0.2)\",\r\n    \"is_ref\": false,\r\n    \"display_name\": \"conanfile.py (finitestatemachine/0.2)\",\r\n    \"id\": \"5cafe73377d9b2539f4d564c8746321327b908ff\",\r\n    \"build_id\": null,\r\n    \"url\": \"https://tfs.ypsomed.com/SAN_Sandbox/SAN_ExperimentAgile2/_git/finite-state-machine?path=%2Fconanfile.py&version=GBmaster&_a=contents\",\r\n    \"homepage\": \"https://tfs.ypsomed.com/SAN_Sandbox/SAN_ExperimentAgile2/_git/finite-state-machine?path=%2FREADME.md&version=GBmaster&_a=preview\",\r\n    \"license\": [\r\n      \"closed\"\r\n    ],\r\n    \"description\": \"Finite State Machine\",\r\n    \"requires\": [\r\n      \"eiger/0.1@ypsomed/development\",\r\n      \"hal/0.1@ypsomed/development\",\r\n      \"gtest/1.10.0\",\r\n      \"hallinux/0.1@ypsomed/development\"\r\n    ]\r\n  }\r\n]\r\n\r\n\r\n\r\n\r\n"
headers = {
  'Content-Type': 'application/json'
}
conn.request("POST", "/versions/loadjson", payload, headers)
res = conn.getresponse()
data = res.read()
print(data.decode("utf-8"))
